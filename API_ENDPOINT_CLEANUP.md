# API μ—”λ“ν¬μΈνΈ μ •λ¦¬ μ™„λ£ λ³΄κ³ μ„

## π“‹ κ°μ”
`GET /chatrooms/{chatroom_id}` μ—”λ“ν¬μΈνΈλ¥Ό μ κ±°ν•κ³  λ¨λ“  μ±„ν… κΈ°λ΅μ„ `GET /chatrooms/{chatroom_id}/history`λ΅ ν†µμΌν–μµλ‹λ‹¤.

## π― λ³€κ²½μ‚¬ν•­

### μ κ±°λ μ—”λ“ν¬μΈνΈ β
```
GET /chatrooms/{chatroom_id}
```

**μ΄μ **: μ¤‘λ³µ κΈ°λ¥μΌλ΅ μΈν• λ³µμ΅μ„± μ κ±°

### μ μΌν• μ±„ν… κΈ°λ΅ μ΅°ν μ—”λ“ν¬μΈνΈ β…
```
GET /chatrooms/{chatroom_id}/history
```

**μ‘λ‹µ ν•μ‹**:
```json
{
  "chatroom_id": 1,
  "recent_conversations": [
    {
      "chat_id": 171,
      "user_message": "μ‚¬μ©μ λ©”μ‹μ§€",
      "chat_time": "2025-07-18T01:17:20.251493",
      "bot_response": "JSON ν•νƒμ λ΄‡ μ‘λ‹µ",
      "response_time": "2025-07-18T01:17:20.251493"
    }
  ],
  "count": 2
}
```

## π”§ μμ •λ νμΌλ“¤

### λ°±μ—”λ“
- `app.py` - `get_chatroom_detail` ν•¨μ μ™„μ „ μ κ±°

### ν”„λ΅ νΈμ—”λ“
- `src/services/api.js` - `getChatRoomDetail` ν•¨μ μ κ±°
- `src/App.vue` - import μ κ±°, `loadChatRoomDetail` β†’ `refreshChatRoomHistory` λ³€κ²½
- `src/config/api.js` - ENDPOINTSμ— CHATROOM_HISTORY μ¶”κ°€

## π§ ν…μ¤νΈ κ²°κ³Ό

### β μ κ±°λ μ—”λ“ν¬μΈνΈ ν™•μΈ
```bash
curl http://localhost:8000/chatrooms/1
# μ‘λ‹µ: {"detail":"Method Not Allowed"} (405)
```

### β… History μ—”λ“ν¬μΈνΈ μ •μƒ μ‘λ™
```bash
curl http://localhost:8000/chatrooms/1/history
# μ‘λ‹µ: {"chatroom_id":1,"recent_conversations":[...],"count":2}
```

### β… μƒ λ©”μ‹μ§€ μ¶”κ°€ ν™•μΈ
```bash
# λ©”μ‹μ§€ μ „μ†΅ ν›„
curl http://localhost:8000/chatrooms/1/history
# μ‘λ‹µ: countκ°€ μ¦κ°€ν•κ³  μƒ λ©”μ‹μ§€ ν¬ν•¨
```

## π“ κ°μ„  ν¨κ³Ό

### 1. API λ‹¨μν™”
- **ν•λ‚μ μ—”λ“ν¬μΈνΈ**: μ±„ν… κΈ°λ΅ μ΅°νκ°€ λ‹¨μΌ APIλ΅ ν†µν•©
- **μΌκ΄€μ„±**: λ¨λ“  μ±„ν… κΈ°λ΅μ΄ λ™μΌν• ν•μ‹μΌλ΅ μ κ³µ
- **μ μ§€λ³΄μμ„±**: μ¤‘λ³µ μ½”λ“ μ κ±°λ΅ λ²„κ·Έ λ°μƒ κ°€λ¥μ„± κ°μ†

### 2. ν”„λ΅ νΈμ—”λ“ μµμ ν™”
- **λ΅μ§ λ‹¨μν™”**: loadChatRoomsμ—μ„ ν• λ²μ— λ¨λ“  νμ¤ν† λ¦¬ λ΅λ“
- **μ„±λ¥ κ°μ„ **: λ¶ν•„μ”ν• API νΈμ¶ μ κ±°
- **μ½”λ“ μ •λ¦¬**: μ‚¬μ©ν•μ§€ μ•λ” ν•¨μ μ κ±°

### 3. λ°μ΄ν„° μΌκ΄€μ„±
- **λ‹¨μΌ μ§„μ‹¤ μ›μ²**: νμ¤ν† λ¦¬ APIλ§μ΄ μ±„ν… κΈ°λ΅μ μ μΌν• μ†μ¤
- **μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ**: μƒ λ©”μ‹μ§€κ°€ μ¦‰μ‹ νμ¤ν† λ¦¬μ— λ°μ
- **νƒ€μ… μ•μ „μ„±**: μ‘λ‹µ ν•μ‹ ν†µμΌλ΅ μμΈ΅ κ°€λ¥ν• λ°μ΄ν„° κµ¬μ΅°

## π”„ λ§μ΄κ·Έλ μ΄μ… μ™„λ£

### κΈ°μ΅΄ μ½”λ“μ—μ„ μ κ±°λ κ²ƒλ“¤
```javascript
// β λ” μ΄μƒ μ‚¬μ©ν•μ§€ μ•μ
getChatRoomDetail(chatroomId)
loadChatRoomDetail(roomId)

// β… λ€μ‹  μ‚¬μ©
getChatRoomHistory(chatroomId)
refreshChatRoomHistory(roomId)  // ν•„μ”μ‹
```

### μƒλ΅μ΄ νλ¦„
1. **μ•± μ‹μ‘**: `loadChatRooms()`μ—μ„ λ¨λ“  μ±„ν…λ°©μ νμ¤ν† λ¦¬ λ΅λ“
2. **μ±„ν…λ°© μ„ νƒ**: μ΄λ―Έ λ΅λ“λ λ°μ΄ν„° μ‚¬μ©, μ¶”κ°€ API νΈμ¶ μ—†μ
3. **μƒ λ©”μ‹μ§€**: λ°±μ—”λ“μ—μ„ μλ™μΌλ΅ νμ¤ν† λ¦¬μ— μ¶”κ°€
4. **μƒλ΅κ³ μΉ¨ ν•„μ”μ‹**: `refreshChatRoomHistory()` νΈμ¶

## β… μ™„λ£ μƒνƒ
- [x] λ°±μ—”λ“ μ—”λ“ν¬μΈνΈ μ κ±° μ™„λ£
- [x] ν”„λ΅ νΈμ—”λ“ ν•¨μ μ κ±° μ™„λ£  
- [x] API μ„¤μ • νμΌ μ—…λ°μ΄νΈ μ™„λ£
- [x] κΈ°λ¥ ν…μ¤νΈ ν†µκ³Ό
- [x] μƒ λ©”μ‹μ§€ μ¶”κ°€ ν…μ¤νΈ ν†µκ³Ό
- [x] νμ¤ν† λ¦¬ μ—…λ°μ΄νΈ ν™•μΈ μ™„λ£

λ¨λ“  μ±„ν… κΈ°λ΅μ΄ μ΄μ  **λ‹¨μΌ νμ¤ν† λ¦¬ API**λ¥Ό ν†µν•΄ μΌκ΄€λκ² κ΄€λ¦¬λ©λ‹λ‹¤! π‰